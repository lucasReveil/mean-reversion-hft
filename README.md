> [Version franÃ§aise ici ](README_fr.md)
> [VersiÃ³n castellano acÃ¡ ](Readme_es.md)
# Mean Reversion Trading Simulator

A small personal project to simulate simple trading strategies like *mean reversion*, with a high-frequency trading (HFT) twist.

## ðŸ’¡ Goal

Improve C++ and math skills, understand the foundations of a basic backtest engine, and structure a small trading simulation project.

## ðŸ“ Project Structure

- `src/` â†’ C++ source files
- `include/` â†’ C++ headers
- `scripts/` â†’ Python scripts for result visualization
- `data/` â†’ CSV files generated by the simulation
- `plots/` â†’ Optional folder for saved plots
- `Makefile` â†’ Build file (`make && ./sim`)
- `main.cpp` â†’ Entry point of the simulation

## ðŸ¤– Strategies Implemented

- **Basic Scalping Bot**: enters when spread is low, sells at next tick
- **Mean Reversion Bot (MRB)**: entry on price returning toward moving average Â± 2Ïƒ, exit via take profit or trailing stop

## ðŸ•¹ï¸ Modes

- `offline`: generates the full simulation in one run (faster for plotting/testing)
- `live`: simulates a tick every 10ms to mimic real-time market data (slower)

Example usage:

```
./sim offline 42
```

Fixing the seed at `42` guarantees consistent market behavior between runs.

## ðŸ“Š Visualization

After simulation ends, `plot_results.py` auto-launches, plotting:

- Market price over time
- Cumulative PnL for both bots
- Entry/exit points of MRB
- Rolling mean & Bollinger Bands
- Trade signals (buy/sell)

---

## ðŸ§  Mathematical Foundations

The core price simulation relies on a **Geometric Brownian Motion (GBM)**, a stochastic model widely used in financial modeling.  
Its continuous form is:

    dS_t = Î¼ S_t dt + Ïƒ S_t dW_t

Where:
- S_t: price at time t
- Î¼: drift (expected return)
- Ïƒ: volatility
- W_t: standard Brownian motion (Wiener process)

### ðŸ§® Numerical Simulation (Discrete GBM)

To simulate step-by-step, we use the discretized version:

    S_{t+1} = S_t Ã— exp[(Î¼ - 0.5 ÏƒÂ²) Ã— Î”t + Ïƒ Ã— âˆšÎ”t Ã— Îµ]

Where:
- Îµ ~ N(0, 1)
- Î”t is the timestep in years (e.g. 1/252 â‰ˆ one trading day)

This ensures S_t > 0 and models both the drift and randomness of market behavior.

More info: [Wikipedia: Geometric Brownian Motion](https://en.wikipedia.org/wiki/Geometric_Brownian_motion)

### ðŸ“ˆ Statistics Used

Used for calculating the rolling average and volatility (Ïƒ):

**Rolling mean:**

    Î¼ = (1 / n) Ã— Î£ x_i

**Standard deviation (sample-based):**

    Ïƒ = sqrt[(1 / (n - 1)) Ã— Î£ (x_i - Î¼)Â²]

These are used to create Bollinger Bands (Î¼ Â± 2Ïƒ), guiding buy/sell decisions.

More info: [Wikipedia: Bollinger Bands](https://en.wikipedia.org/wiki/Bollinger_Bands)
